<!DOCTYPE html>
<html
	lang="en"
	class="light-style layout-menu-fixed"
	dir="ltr"
	data-theme="theme-default"
	data-assets-path="assets/"
	data-template="vertical-menu-template-free"
	>
	<head>
		<script src="assets/vendor/libs/jquery/jquery.js"></script>

		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/6.6.4/css/flag-icons.min.css">
		<link id="core" rel="stylesheet" href="assets/vendor/css/core.css" class="template-customizer-core-css" />
		<link id="theme" rel="stylesheet" href="assets/vendor/css/theme-default.css" class="template-customizer-theme-css" />
		<script>
			if(localStorage.getItem("theme")=="dark"){
							
							document.getElementById("core").href = "assets/vendor/css/core-dark.css"
								document.getElementById("theme").href = "assets/vendor/css/theme-default-dark.css"
								document.getElementById("swd").href = "assets/css/dark.css"
						} else{
							document.getElementById("core").href = "assets/vendor/css/core.css"
								document.getElementById("theme").href = "assets/vendor/css/theme-default.css"
						}
			         
		</script>
	
		<script>
			window.resizeTo(screen.availWidth, screen.availHeight);
		</script>
		<style>
			@font-face {
			font-family: '1_un_bindumathi';
			src: url('scss/un-bindumathi.ttf');
			}
			.font_class_1_un_bindumathi {
			font-family: '1_un_bindumathi', Ubuntu-R, sans-serif !important;
			}
		</style>
		<script src="js/sweetalert2@11.js"></script>
	
		<script>
			var pn= localStorage.getItem("em");
			   var name= localStorage.getItem("nm");
			                var email= localStorage.getItem("em");
			                var sgn= localStorage.getItem("unix");
		</script>
		<meta charset="utf-8" />
		<meta
			name="viewport"
			content="width=device-width, initial-scale=1.0, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0"
			/>
		<title>Tutor Dashboard - English RE</title>
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
		<meta name="description" content="English RE | The Online Learning Portal" />
		<!-- Favicon -->
		<link rel="icon" type="image/x-icon" href="images/icon.png" />
		<!-- The core Firebase JS SDK is always required and must be listed first -->
		<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.2.8/firebase-app.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.2.8/firebase-auth.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/firebase/8.2.8/firebase-database.min.js" crossorigin="anonymous" referrerpolicy="no-referrer"></script>
		<script src="admin/config.js"></script>
		<script>
		firebase.auth().onAuthStateChanged((user) => {
  if(user){

	} else {
    localStorage.clear()
    window.location.href = "admin/login.html"
  }
})
			function ver (a) {
			  const Toast = Swal.mixin({
			toast: true,
			position: 'bottom-end',
			showConfirmButton: false,
			timer: 3000,
			timerProgressBar: true,
			didOpen: (toast) => {
			toast.addEventListener('mouseenter', Swal.stopTimer)
			toast.addEventListener('mouseleave', Swal.resumeTimer)
			}
			})
			$('#user-info').fadeIn()
			setTimeout($('#vlc').fadeIn(),300)
			$('#restid').fadeIn()
			$('#bicycle').fadeOut()

			
	
			}
			var path = "login/connection/unix"
				const preObject = document.getElementById(path);
			// Create References
			const dbRefObject = firebase.database().ref().child(path);
			
			// Sync object changes
			dbRefObject.on('value', snap => ver(snap.val()));
			
		</script>
		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com" />
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
		<link
			href="https://fonts.googleapis.com/css2?family=Public+Sans:ital,wght@0,300;0,400;0,500;0,600;0,700;1,300;1,400;1,500;1,600;1,700&display=swap"
			rel="stylesheet"
			/>
		<!-- Icons. Uncomment required icon fonts -->
		<link rel="stylesheet" href="assets/vendor/fonts/boxicons.css" />
		<!-- Core CSS -->

		<link rel="stylesheet" href="assets/css/demo.css" />
		<!-- Vendors CSS -->
		<link rel="stylesheet" href="assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.css" />
		<link rel="stylesheet" href="assets/vendor/libs/apex-charts/apex-charts.css" />
		<!-- Page CSS -->
		<!-- Helpers -->
		<script src="assets/vendor/js/helpers.js"></script>
		<!--! Template customizer & Theme config files MUST be included after core stylesheets and helpers.js in the <head> section -->
		<!--? Config:  Mandatory theme config file contain global vars & default theme options, Set your preferred theme option in this file.  -->
		<script src="assets/js/config.js"></script>
		<script>

function setx(a){
				console.log(a)
					xrand=parseInt(a)+1
				}
			    const dbRefObject73 = firebase.database().ref().child("classID/luse");
			    
			    // Sync object changes
			    dbRefObject73.once('value', snap => setx(snap.val()));
		</script>
		
	</head>
	<body>

		<!-- Layout wrapper -->
		<div class="layout-wrapper layout-content-navbar">
			<div class="layout-container">
				<!-- Menu -->
				<aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
					<div class="app-brand demo">
						<a href="/" class="app-brand-link">
						<span class="app-brand-logo demo">
						<img src="images/LMS-Logo.png" width="10%" alt="English-RE-Logo">
						</span>
						</a>
						<a href="javascript:void(0);" class="layout-menu-toggle menu-link text-large ms-auto d-block d-xl-none">
						<i class="bx bx-chevron-left bx-sm align-middle"></i>
						</a>
					</div>
					<div class="menu-inner-shadow"></div>
					<ul class="menu-inner py-1">
						<!-- Dashboard -->
						<li class="menu-item active">
							<a href="/" class="menu-link">
								<i class="menu-icon tf-icons bx bx-home-circle"></i>
								<div data-i18n="Dashboard">Dashboard</div>
							</a>
						</li>
						<!-- Classes -->
						<li class="menu-item">
							<a href="javascript:void(0);" class="menu-link menu-toggle">
								<i class="menu-icon tf-icons bx bx-chalkboard"></i>
								<div data-i18n="Layouts">Classes</div>
							</a>
							<ul id="ulclz" class="menu-sub" style="cursor: pointer;">
							</ul>
						</li>
						<!-- Class Settings -->
						<li class="menu-item">
							<a href="class-settings" class="menu-link">
								<i class="menu-icon tf-icons bx bx-cog"></i>
								<div data-i18n="Class Settings">Class Settings</div>
							</a>
						</li>
						<!-- Exams -->
						<li class="menu-item">
							<a href="exmain" class="menu-link">
								<i class="menu-icon tf-icons bx bx-stopwatch"></i>
								<div data-i18n="Exams">Exams</div>
							</a>
						</li>
						<!-- Bank Payments -->
						<li class="menu-item">
							<a href="bank-payments" class="menu-link">
								<i class="menu-icon tf-icons bx bx-credit-card"></i>
								<div data-i18n="Bank Payments">Bank Payments</div>
							</a>
						</li>
						<!-- Coupens -->
						<!--<li class="menu-item">
							<a href="coupens" class="menu-link">
								<i class="menu-icon tf-icon bx bxs-coupon"></i>
								<div data-i18n="Coupens">Coupens</div>
							</a>
						</li>-->
						<!-- Reports -->
						<li class="menu-item">
							<a href="javascript:void(0);" class="menu-link menu-toggle">
								<i class="menu-icon tf-icons bx bxs-report"></i>
								<div data-i18n="Reports">Reports</div>
							</a>
							<ul class="menu-sub">
								<li class="menu-item">
									<a href="meeting-reports" class="menu-link">
										<div data-i18n="Meeting Reports">Meeting Reports</div>
									</a>
								</li>
								<li class="menu-item">
									<a href="payment-reports" class="menu-link">
										<div data-i18n="Payment Reports">Payment Reports</div>
									</a>
								</li>
							</ul>
						</li>
						<!-- Students -->
						<li class="menu-item">
							<a href="students" class="menu-link">
								<i class="menu-icon tf-icons bx bxs-user-account"></i>
								<div data-i18n="Students">Students</div>
							</a>
						</li>
						<!-- Settings -->
						<li class="menu-header small text-uppercase">
							<span class="menu-header-text">Settings</span>
						</li>
						<li class="menu-item">
							<a href="edit-profile" class="menu-link">
								<i class="menu-icon tf-icons bx bxs-user"></i>
								<div data-i18n="Edit Profile">Edit Profile</div>
							</a>
						</li>
						<li class="menu-item">
							<a href="account-settings" class="menu-link">
								<i class="menu-icon tf-icons bx bxs-wrench"></i>
								<div data-i18n="Account Settings">Account Settings</div>
							</a>
						</li>
						</li>
						<!-- Support -->
						<li class="menu-header small text-uppercase"><span class="menu-header-text">Support</span></li>
						<li class="menu-item">
							<a href="#" class="menu-link">
								<i class="menu-icon tf-icons bx bx-file"></i>
								<div data-i18n="Documentation">Documentation</div>
							</a>
						</li>
						<li class="menu-item">
							<a href="#" class="menu-link">
								<i class="menu-icon tf-icons bx bx-support"></i>
								<div data-i18n="Support">Support Center</div>
							</a>
						</li>
					</ul>
				</aside>
				<!-- / Menu -->
				<!-- Layout container -->
				<div class="layout-page">
					<!-- Navbar -->
					<nav 
						class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
						id="layout-navbar"
						>
						<div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
							<a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
							<i class="bx bx-menu bx-sm"></i>
							</a>
						</div>
						<div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
							<!-- Search -->
							<div class="navbar-nav align-items-center">
								<div class="nav-item d-flex align-items-center">
									<i class="bx bx-search fs-4 lh-0"></i>
									<input
										type="text"
										class="form-control border-0 shadow-none"
										placeholder="Search..."
										aria-label="Search..."
										/>
								</div>
							</div>
							<!-- /Search -->
							<ul class="navbar-nav flex-row align-items-center ms-auto">
								<!-- Place this tag where you want the button to render. -->
								<!--Disply Time-->
								<span id="live_time" class="badge bg-label-primary rounded-pill" style="font-size: 16px;">Updating</span>
								<script>
									setInterval(myTimer, 1000);
									
									function myTimer() {
									const ddd = new Date();
									document.getElementById("live_time").innerHTML = ddd.toLocaleTimeString();
									}
								</script>
								<li class="nav-item lh-1 me-3">
								</li>
								<li class="nav-item dropdown-language dropdown me-2 me-xl-0" style="display:none ;">
									<a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown" aria-expanded="false">
									<img src="images/uk.jpg" width="25px" height="25px"  class="rounded-circle fs-1 me-1" alt="">
									</a>
									<ul class="dropdown-menu dropdown-menu-end">
										<li>
											<a class="dropdown-item selected" href="javascript:void(0);" data-language="en">
											<img src="images/uk.jpg" width="25px" height="25px"  class="rounded-circle fs-1 me-1" alt="">
											<span class="align-middle">English</span>
											</a>
										</li>
										<li>
											<a class="dropdown-item selected" href="javascript:void(0);" data-language="fr">
											<img src="images/lk.jpg" width="25px" height="25px"  class="rounded-circle fs-1 me-1" alt="">
											<span class="align-middle">Sinhala</span>
											</a>
										</li>
									</ul>
								</li>
								<!-- User -->
								<script>
									function themic (){
										if(document.getElementById("theme").href.includes("dark")){
											document.getElementById("core").href = "assets/vendor/css/core.css"
											document.getElementById("theme").href = "assets/vendor/css/theme-default.css"
											localStorage.setItem("theme","light")
										} else{
											document.getElementById("core").href = "assets/vendor/css/core-dark.css"
											document.getElementById("theme").href = "assets/vendor/css/theme-default-dark.css"
											document.getElementById("swd").href = "assets/css/dark.css"
											localStorage.setItem("theme","dark")
										}
									}
											
								</script>
								<li class="nav-item me-2 me-xl-0">
									<a class="nav-link style-switcher-toggle hide-arrow" href="javascript:void(0);" onclick="themic()" data-bs-original-title="" title="">
									<i class="bx bx-sm bx-sun"></i>
									</a>
								</li>
								<li class="nav-item navbar-dropdown dropdown-user dropdown">
									<a class="nav-link dropdown-toggle hide-arrow" href="javascript:void(0);" data-bs-toggle="dropdown">
										<div class="avatar avatar-online">
											<img id="dp" src="assets/img/icons/1.png" alt class="w-px-60 h-auto rounded-circle" />
										</div>
									</a>
									<ul class="dropdown-menu dropdown-menu-end">
										<li>
											<a class="dropdown-item" href="#">
												<div class="d-flex">
													<div class="flex-shrink-0 me-3">
														<div class="avatar avatar-online">
															<img id="dp2"src="assets/img/icons/1.png" alt class="w-px-40 h-auto rounded-circle" />
														</div>
													</div>
													<div class="flex-grow-1">
														<span id="name2" class="fw-semibold d-block">Loading..</span>
														<small class="text-muted">Admin</small>
													</div>
												</div>
											</a>
										</li>
										<li>
											<div class="dropdown-divider"></div>
										</li>
										<li>
											<a class="dropdown-item" href="edit-profile">
											<i class="bx bxs-user me-2"></i>
											<span class="align-middle">Edit Profile</span>
											</a>
										</li>
										<li>
											<a class="dropdown-item" href="account-settings">
											<i class="bx bxs-cog me-2"></i>
											<span class="align-middle">Account Settings</span>
											</a>
										</li>
										<li>
											<div class="dropdown-divider"></div>
										</li>
										<li>
											<a class="dropdown-item" id="logout" style="cursor: pointer;">
												<i class="bx bx-power-off me-2"></i>
												<script>
													document.getElementById("logout").onclick=function(){
													  localStorage.clear();
													  firebase.auth().signOut()
													};
												</script>
												<span class="align-middle">Log Out</span>
											</a>
										</li>
									</ul>
								</li>
								<!--/ User -->
							</ul>
						</div>
					</nav>
					<!-- / Navbar -->
					<!-- Content wrapper -->
					<div class="content-wrapper">
						<!-- Content -->
						<div class="container-xxl flex-grow-1 container-p-y ">
							<div id="bicycle"  style="width: 100%;align-items: center; height:100% ;"  class="card"><img src="https://cdn.dribbble.com/users/722246/screenshots/16072725/media/5941bfc1daa4f1ea98ed052269e10b90.gif" style="width:60% ;" alt=""></div>
							
							<div class="row">
								<div class="col-lg-8 mb-4 order-0">
									<div class="card" id="user-info" style="display: none;">
										<div class="d-flex align-items-end row">
											<div class="col-sm-7">
												<div class="card-body">
													<h4 class="card-title text-primary fw-bold" id="ncd">Welcome ðŸŽ‰</h4>
													<script>
														mergeray = ''
														console.log(mergeray)
													  </script>
													<script>
														function auth2(x){
														  if(x!=null){
														  y=x;
														  console.log(y);
														  if(y["verified"]=="ok"){
														    localStorage.setItem("nm",y["name"]);
														location.reload();
														  }else{
														    Swal.fire({
														icon: 'error',
														title: 'Oops...',
														text: 'Account not Verified!',
														allowOutsideClick: false,
														allowEscapeKey:false,
														showCancelButton:false,
														showCloseButton:false,
														showConfirmButton: false,
														footer: '<a href="tel:0787134053">Why do I have this issue?</a>'
														})
														}}else{
														  Swal.fire({
														icon: 'error',
														title: 'Oops...',
														text: 'Account not verified',
														allowOutsideClick: false,
														allowEscapeKey:false,
														showCancelButtonL:false,
														showCloseButton:false,
														showConfirmButton: false,
														footer: '<a href="tel:0787134053">Why do I have this issue?</a>'
														})
														}};
														if (localStorage.getItem("nm")==null){
														var ref =  "teachers/"+pn+"/info"
														const preObject5 = document.getElementById(ref);
														// Create References
														const dbRefObject5 = firebase.database().ref().child(ref);
														
														// Sync object changes
														dbRefObject5.on('value', snap => auth2(snap.val()));
														}
														
														
														
														;
														
														
														document.getElementById("ncd").innerText="Welcome " + name + " ðŸŽ‰"
													</script>
													<p id="dsc"class="mb-4"style="font-size:14px">
														Signed in as :
													</p>
													<img src="images/zoom-logo.png" width="8%" alt="">
													<script>
														document.getElementById("dsc").innerHTML="<b>" +"Signed in as : </b>" + name
													</script>
													<script>
														function timeConverter(UNIX_timestamp){
														var a = new Date(UNIX_timestamp * 1000);
														var months = ['Jan','Feb','Mar','Apr','May','Jun','Jul','Aug','Sep','Oct','Nov','Dec'];
														var year = a.getFullYear();
														var month = months[a.getMonth()];
														var date = a.getDate();
														var hour = a.getHours();
														var min = a.getMinutes();
														var sec = a.getSeconds();
														var time = date + ' ' + month + ' ' + year + ' ' + hour + ':' + min + ':' + sec ;
														return time;
														}
														console.log(timeConverter(0));
													</script>
													<script>
														function prof (x) {
														  if(x!=null){
														                              y=x;
														                              console.log(y);
														                              if(y["verified"]=="ok"){
														                              }else{
														                                Swal.fire({
														icon: 'error',
														title: 'Account Suspended!',
														text: "Reason: "+y["verified"],
														allowOutsideClick: false,
														allowEscapeKey:false,
														showCancelButtonL:false,
														showCloseButton:false,
														showConfirmButton: false,
														footer: '<a href="tel:0787134053">Why do I have this issue?</a>'
														})
														                            }
														                    localStorage.setItem("nm",y["name"]);
														                            }else{
														                              Swal.fire({
														icon: 'error',
														title: 'Oops...',
														text: 'Account not verified',
														allowOutsideClick: false,
														allowEscapeKey:false,
														showCancelButtonL:false,
														showCloseButton:false,
														showConfirmButton: false,
														footer: '<a href="tel:0787134053">Why do I have this issue?</a>'
														})}
														
														  document.getElementById("dsc").innerHTML="<b>" +"Signed in as : </b>" + name + "<br>" + "<b>Phone : </b>"+ pn;
														  document.getElementById("dp").src = x["pic"];
														  document.getElementById("dp2").src = x["pic"]
														  document.getElementById("name2").innerText = name;
														};
														if(localStorage.nm!=null){
														 var ref= "teachers/"+pn+"/info"
														const preObject5 = document.getElementById(ref);
														// Create References
														const dbRefObject5 = firebase.database().ref().child(ref);
														
														// Sync object changes
														dbRefObject5.on('value', snap => prof(snap.val()));
														
														}
													</script>
													<script src="js/zoomauth.js"></script>
													<script src="js/openmeet.js"></script>
													<span id="ss"> <a href="javascript:;"  class="btn btn-sm btn-outline-primary disabled">Start Personal Meeting Room</a></span>  
													<script>
														function zzz(){
														  var xhr4569 = new XMLHttpRequest();
														var url2 = baseurl + "/v2/meetings/"+pmi;
														xhr4569.open("GET", url2, true);
														xhr4569.setRequestHeader("Content-Type", "application/json");
														
														xhr4569.setRequestHeader("Authorization","Bearer " +tkna );
														xhr4569.onreadystatechange = function () {
														if (xhr4569.readyState === 4 && xhr4569.status === 200) {
														console.log(JSON.parse(xhr4569.response))
														zooml = window.open(JSON.parse(xhr4569.response)["start_url"],'zooml',
														'height=0px,width=0px,toolbar=no,menubar=no,scrollbars=no');
														zooml.moveTo(0, 0);
														zooml.blur();
														window.focus();
														
														
														const Toast = Swal.mixin({
														toast: true,
														position: 'bottom-end',
														showConfirmButton: false,
														timer: 8000,
														timerProgressBar: true,
														didOpen: (toast) => {
														toast.addEventListener('mouseenter', Swal.stopTimer)
														toast.addEventListener('mouseleave', Swal.resumeTimer)
														}
														})
														
														Toast.fire({
														icon: 'success',
														title: 'Launching Meeting'
														}).then((result) => {
														zooml.close()});
														
														}}
														var data = JSON.stringify();
														xhr4569.send(data);
														}
														
													</script>
												</div>
											</div>
											<div class="col-sm-5 text-center text-sm-left">
												<div class="card-body pb-0 px-0 px-md-4">
													<div class="col-sm-5 text-center text-sm-left">
														<div class="card-body pb-0 px-0 px-md-4">
															<script>
																img1 = "https://cdn.dribbble.com/users/3029797/screenshots/13909768/media/2bfb0f1fa96cbcdd0293721013253355.gif"
																img2 = "https://cdn.dribbble.com/users/925704/screenshots/6513438/scrolling.gif"
																img4='https://cdn.dribbble.com/users/729829/screenshots/5594777/media/f25bb967a6ca4d119e226e995fdfadf4.jpg?compress=1&resize=1000x750&vertical=top'
																img5="assets/img/illustrations/girl-doing-yoga-light.png"
																img6="assets/img/illustrations/man-with-laptop-light.png"
																imgli = [img1,img2,img4,img5,img6]
																const randomElement = imgli[Math.floor(Math.random() * imgli.length)];
															</script>
															<img src="https://cdn.dribbble.com/users/925704/screenshots/6513438/scrolling.gif" id="welcome" height="160" alt="View Badge User" data-app-dark-img="illustrations/man-with-laptop-dark.png" data-app-light-img="illustrations/man-with-laptop-light.png">
															<script>
document.getElementById('welcome').src = randomElement
															</script>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
									<div class="col-lg-4 col-md-4 order-1">
										<div class="row">
											<div class="col-lg-6 col-md-12 col-6 mb-4">
											</div>
											<div class="col-lg-6 col-md-12 col-6 mb-4">
											</div>
										</div>
									</div>
									<!-- Total Revenue -->
									<div >
										<div class="card" style="display: none;" id="vlc">
											<div >
												<div >
													<div style="display: flex;display: flex;
														justify-content: left;
														align-items: center;
														">
														<h5 class="card-header m-0 me-2 pb-3 ">  <i class="fa-solid fa-graduation-cap"></i> Virtual Classroom</h5>
														<button id="add" style="height:10% ;" type="button" class=" btn btn-dark">New Class</i></button>
													</div>
													<script>
														document.getElementById("add").onclick = function(){
														  if (document.getElementById("add").innerText=='New Class') {
														    document.getElementById("add").innerText='Class List'
														document.getElementById("holder").innerHTML = "<div class='container-xxl flex-grow-1 container-p-y'> <h4 class='fw-bold py-3 mb-4'> <span id='name4' class='text-muted fw-light'>Tutor/</span> My Classrooms</h4> <div class='row'> <!-- Basic Layout --> <div class='col-xxl'> <div class='card mb-4'> <div class='card-header d-flex align-items-center justify-content-between'> <h5 class='mb-0'>New Virtual Classroom</h5> <small class='text-muted float-end font_class_1_un_bindumathi'>English RE - LMS</small> </div> <div class='card-body'> <form> <div class='row mb-3'> <label class='col-sm-2 col-form-label' for='basic-default-name'>Class Title</label> <div class='col-sm-10'> <input type='text' class='form-control' id='basic-default-name' placeholder='ex: English Online Class'> </div> </div><div class='row mb-3'> <label class='col-sm-2 col-form-label' for='section'>Section</label><div class='col-sm-10'><select class='form-control' name='section' id='section'> <option value='OL'>OL</option><option value='AL'>AL</option></select></div></div> <div class='row mb-3'> <label class='col-sm-2 col-form-label' for='basic-default-company'>Year</label> <div class='col-sm-10'> <select class='form-select col-sm-10' name='grdae' id='grade'> <option value='2022'>2022</option> <option value='2023'>2023</option> <option value='2024'>2024</option> <option value='2025'>2025</option> <option value='2026'>2026</option> <option value='2027'>2027</option><option value='2028'>2028</option><option value='2029'>2029</option><option value='2030'>2030</option> </select> </div> </div > <div class='row mb-3'> <div class='col-sm-10'> </div> </div> <div class='row mb-3 '> <label class='col-sm-2 col-form-label' for='basic-default-phone'>Schedule</label> <div class='col-sm-10'> <textarea id='basic-default-sche' class='form-control' placeholder='Write the schedule in Text' aria-label='Write the schedule in Text' aria-describedby='basic-icon-default-message2'></textarea> </div> </div> <div class='row mb-3'> <label class='col-sm-2 col-form-label' for='basic-default-message'>Class Type</label> <div class='col-sm-10'> <textarea id='basic-default-message' class='form-control' placeholder='Theory/Revision / General / Group' aria-label='Theory/Revision / General / Group' aria-describedby='basic-icon-default-message2'></textarea> </div> </div> </div> </form> <div class='col-sm-10'> <button id='createbtn' class='btn btn-primary'>Create</button></div> </div> </div> </div> </div>  "
														document.getElementById("name4").innerText=localStorage.getItem("nm") + " /";
														document.getElementById("createbtn").onclick =function (){
														if (document.getElementById("basic-default-name").value =='') {
														Swal.fire(
														'Form Incomplete',
														'Please fill out the Class Topic',
														'error'
														)
														} else {
														if (document.getElementById("basic-default-sche").value =='') {
														Swal.fire(
														'Form Incomplete',
														'Please fill out the Schedule',
														'error'
														)
														}else {
														if (document.getElementById("basic-default-message").value =='') {
														Swal.fire(
														'Form Incomplete',
														'Please fill out the Description',
														'error'
														)
														} else{
														//Create acc
											
			    // Create References
	
														function writeMeeting(topic,year,time,bio) {
															firebase.database().ref("classID").set({
																luse:parseInt(xrand)
															}).then((x)=>{
																firebase.database().ref("byname/"+topic).set({
																pn:localStorage.getItem("em"),
																cid:xrand
															})
														firebase.database().ref("classes/"+xrand+"/info").set({
														topic: topic,
														time:time,
														year:year,
														bio:bio
														})
														var ref = "/teachers/" +pn + "/" + "class/" + xrand 
														firebase.database().ref(ref).set({
														topic: topic,
														time:time,
														year:year,
														bio:bio
														})
														
														st.database().ref("classes/"+xrand+"/info").set({
														topic: topic,
														time:time,
														year:year,
														bio:bio,
														name:localStorage.getItem("nm"),
														pn:localStorage.getItem("em"),
														section:document.getElementById("section").value
														}).then((result) => {
															Swal.fire({
														position: 'top-end',
														icon: 'success',
														allowOutsideClick: false,
														allowEscapeKey:false,
														text:topic + " has been successfully created",
														title: 'Classroom Created',
														showConfirmButton: false,
														timer: 2000
														}).then((result) => {
														
														})
														console.log(result)
														location.reload()
														});
															})
												
														
														}
														writeMeeting(document.getElementById("basic-default-name").value,document.getElementById("grade").value,document.getElementById("basic-default-sche").value,document.getElementById("basic-default-message").value)
														
												
														
														
														
														}
														}
														}
														};
														} else {
														  location.reload();
														} } ;
													</script>
													<center id="holder" style=" overflow: auto;">
														<div class="col-md-12">
															<div class="table-wrap">
																<table class="table" id="clss">
																	<thead class="thead-primary">
																		<tr>
																			<th>Topic</th>
																			<th>Manage</th>
																			<th>Edit</th>
																			<th>Schedule</th>
																			<th>Type</th>
																			<th>Delete</th>
																		</tr>
																	</thead>
																	<tbody>
																	</tbody>
																</table>
															</div>
														</div>
													</center>
													<script>
														document.getElementById("holder").style.paddingBottom="10px"
													</script>
												</div>
											</div>
										</div>
									</div>
								</div>
								<!--/ Total Revenue -->
								<div class="col-12 col-md-8 col-lg-4 order-3 order-md-2" style="display:none ;" id="restid">
									<div class="row">
										<div class="col-6 mb-4 data-summary">
											<div class="card">
												<div class="card-body">
													<div class="card-title d-flex align-items-start justify-content-between">
														<div class="avatar flex-shrink-0">
															<img src="assets/img/icons/unicons/presentation.svg" alt="Video" class="rounded" />
														</div>
														<div class="dropdown">
														</div>
													</div>
													<span class="d-block mb-1">Classes</span>
													<h3 id="clzno" class="card-title text-nowrap mb-2">0</h3>
													<small class="text-danger fw-semibold"><i class="bx bx-check-circle"></i> Active</small>
												</div>
											</div>
										</div>
										<div class="col-6 mb-4 data-summary">
											<div class="card">
												<div class="card-body">
													<div class="card-title d-flex align-items-start justify-content-between">
														<div class="avatar flex-shrink-0">
															<img src="assets/img/icons/unicons/chat-bubble-user.svg" alt="User" class="rounded" />
														</div>
													</div>
													<span  class="fw-semibold d-block mb-1">Students</span>
													<h3 class="card-title mb-2" id="enam">0</h3>
													<small class="text-success fw-semibold"><i class="bx bx-user-circle"></i> Enrolled</small>
												</div>
											</div>
										</div>
										<!-- </div>
											<div class="row"> -->
										<div class="col-12 mb-4">
											<div class="card">
												<div class="card-body">
													<div class="d-flex justify-content-between flex-sm-row flex-column gap-3">
														<div class="d-flex flex-sm-column flex-row align-items-start justify-content-between">
															<div class="card-title">
																<h5 class="text-nowrap mb-2"><i class="fa-solid fa-video-camera"></i>  Start Live Class</h5>
															</div>
														</div>
													</div>
													<div class="table-wrap">
														<table class="table" id="meetz">
															<thead class="thead-primary">
																<tr>
																	<th>Topic</th>
																	<th>Start</th>
																</tr>
															
															</thead>
															<tbody>
															</tbody>
														</table>
													</div>
												</div>
											</div>
											<br>
									
											 
											<div class="card" style="background-color: #ffff;">
												
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="row">
							</div>
						</div>
						<!-- / Content -->
						<!-- Footer -->
						<footer class="content-footer footer bg-footer-theme"  style="background-color: #eceef1 !important;">
							<div class="container-xxl d-flex flex-wrap justify-content-between py-2 flex-md-row flex-column">
								<div style="color: #697a8d;" class="change">
									<b>&copy; Copyright 
									<script>
									document.write(new Date().getFullYear());
									</script> | Aduruthuma Learning Management System</b>
								</div>
							</div>
						</footer>
						<!-- / Footer -->
						<div class="content-backdrop fade"></div>
					</div>
					<!-- Content wrapper -->
				</div>
				<!-- / Layout page -->
			</div>
			<!-- Overlay -->
			<div class="layout-overlay layout-menu-toggle"></div>
		</div>
		<!-- / Layout wrapper -->
		<!-- Core JS -->
		<!-- build:js assets/vendor/js/core.js -->
		<script src="https://englishre.instatus.com/7919c901/widget/script.js">
		</script>
		</script>
		<script src="js/moment.min.js"></script>
		<script src="assets/vendor/libs/popper/popper.js"></script>
		<script src="assets/vendor/js/bootstrap.js"></script>
		<script src="assets/vendor/libs/perfect-scrollbar/perfect-scrollbar.js"></script>
		<script src="assets/vendor/js/menu.js"></script>
		<!-- endbuild -->
		<!-- Vendors JS -->
		<script src="assets/vendor/libs/apex-charts/apexcharts.js"></script>
		<!-- Main JS -->
		<script src="assets/js/main.js"></script>
		<script>
			ggf=null
		</script>
<script src="js/openmeet.js"></script>		<!-- Page JS -->
		<script src="assets/js/dashboards-analytics.js"></script>
		<!-- Place this tag in your head or just before your close body tag. -->
		<script async defer src="https://buttons.github.io/buttons.js"></script>
		<script>
			//delte meet form FB
			function del (it){
			  Swal.fire({
			  title: 'Are you sure?',
			  text: "You won't be able to revert this! Class ID: "+it ,
			  icon: 'warning',
			  showCancelButton: true,
			  confirmButtonColor: '#3085d6',
			  cancelButtonColor: '#d33',
			  confirmButtonText: 'Yes, delete it!'
			}).then((result) => {
			
			
			  if (result.isConfirmed) {
			    var tl = document.getElementById("clss").rows.length;
			  for (let i = 0; i < tl-1; i++) {
			    document.getElementById("clss").deleteRow(-1);
			}
			
			    firebase.database().ref( "/teachers/" +pn + "/" + "class/" +it).set({});
			    firebase.database().ref("classes/"+it+"/info").set({});
				st.database().ref("classes/"+it+"/info").set({})
			    
			  Swal.fire({
			  position: 'top-end',
			  icon: 'success',
			  title: 'Classroom deleted',
			  showConfirmButton: false,
			  timer: 1500
			})
			  }
			})
			  
			};
			
			//Copy Invite link
			function cpy (idi) {
			console.log(idi)
			localStorage.setItem("nclz",idi)
		location.replace('class-settings.html')
			
			};
			
			
			
			function stck (id3) {
			localStorage.setItem("nclz",id3);
			window.location.href = "class.html"
			};
			
			function tu (a) {
				subtotal = 0
				var array  = Object.keys(a)
				for (let i = 0; i < array.length; i++) {
					const e = array[i];
					if(localStorage.getItem("count"+e)!=null){
					subtotal = subtotal + parseInt(localStorage.getItem("count"+e))
					document.getElementById('enam').innerText = subtotal}
					
				}
			  localStorage.setItem("allc",JSON.stringify(a));
			  var table = document.getElementById("clss");
			  
			console.log(a);
			xx = a;
			for (let i = 0; i < Object.keys(xx).length ; i++) {
			if (xx[Object.keys(xx)[i]]["topic"]!=''||xx[Object.keys(xx)[i]]["topic"]!=null){
				var ul = document.getElementById("ulclz");
			var li = document.createElement("li");
			li.appendChild(document.createTextNode("clz"));
			li.setAttribute("id", Object.keys(xx)[i]); // added line
			ul.appendChild(li);
			document.getElementById( Object.keys(xx)[i]).outerHTML='	<li class="menu-item" href="#"  id="'+Object.keys(xx)[i]+'"  onclick="stck(this.id)" ><a class="menu-link"><div data-i18n="Without menu">'+xx[Object.keys(xx)[i]]["topic"]+'</div></a></li>'
			}
			
			var rowz = document.getElementById('meetz').insertRow(-1);
			var cell1 = rowz.insertCell(0);
			var cell2 = rowz.insertCell(1);
			cell1.innerHTML = ' <b>' + xx[Object.keys(xx)[i]]["topic"]+'</b>'
			cell2.innerHTML = '<button type="button" onclick="hadmet(this.id)"  id="'+Object.keys(xx)[i]+'"  class="btn btn-sm rounded-pill btn-primary">Start</button>'
			
			console.log(i);
			console.log(xx[Object.keys(xx)[i]]);
			var row = table.insertRow(-1);
			var cell1 = row.insertCell(0);
			var cell2 = row.insertCell(1);
			var cell3 = row.insertCell(2);
			var cell4 = row.insertCell(3);
			var cell5 = row.insertCell(4);
			var cell6 = row.insertCell(5);
			
			
			cell1.innerHTML = ' <b>' + xx[Object.keys(xx)[i]]["topic"]+'</b>';
			cell2.innerHTML = '<td><a '+ 'id="' + Object.keys(xx)[i]+  '" href="javascript:;" onclick="stck(this.id)" class="btn btn-primary">View</a></td>';
			cell3.innerHTML = '<td><a '+ 'id="' + Object.keys(xx)[i]+  '" href="javascript:;" onclick="cpy(this.id)" class="btn  btn-dark">Edit</a></td>';
			cell4.innerHTML = xx[Object.keys(xx)[i]]["time"];
			cell5.innerHTML =   xx[Object.keys(xx)[i]]["bio"];
			cell6.innerHTML = '<td><a '+ 'id="' + Object.keys(xx)[i]+  '" href="javascript:;" onclick="del(this.id)" class="btn btn-danger">Delete</a></td>';
			document.getElementById("clzno").innerText=Object.keys(xx).length;
			};
			};
			
			
			   var path7 = "/teachers/" +pn + "/" + "class/"
			    	const preObject7 = document.getElementById(path7);
			    // Create References
			    const dbRefObject7 = firebase.database().ref().child(path7);
			    
			    // Sync object changes
			    dbRefObject7.on('value', snap => tu(snap.val()));

				function hadmet (ida){
cid = ida
classname = JSON.parse(localStorage.getItem('allc'))[ida]['topic']
openmeet()
				}
		</script>
		<script src="js/telenot.js"></script>
	</body>
</html>